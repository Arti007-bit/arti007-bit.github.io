<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>کتابکده دانش</title>
    <style>
        /* تنظیمات پایه */
        * { box-sizing: border-box; }
        body {
            margin: 0;
            font-family: "Tahoma", sans-serif;
            background: #f4f6d8;
            direction: rtl;
        }

        /* هدر سایت */
        header {
            background: #4caf50;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 40px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
            flex-wrap: wrap;
        }
        header h1 { margin: 0; font-size: 24px; }
        nav { display: flex; flex-wrap: wrap; align-items: center; }
        nav a { color: white; text-decoration: none; margin: 0 10px; font-weight: bold; transition: 0.2s; }
        nav a:hover { text-decoration: underline; }

        /* جستجو */
        .search-box { display: flex; margin-top: 5px; }
        .search-box input { padding: 5px 10px; border: none; border-radius: 5px 0 0 5px; outline: none; }
        .search-box button { padding: 5px 10px; border: none; background: #388e3c; color: white; font-weight: bold; border-radius: 0 5px 5px 0; cursor: pointer; }
        .search-box button:hover { background: #2e7030; }

        /* بخش محصولات */
        .product-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            padding: 30px 40px;
        }
        .product {
            background: #fff;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .product:hover { transform: translateY(-5px); box-shadow: 0 6px 15px rgba(0,0,0,0.2); }
        .product img { width: 150px; height: 200px; object-fit: cover; border-radius: 5px; margin-bottom: 10px; }
        .product h3 { font-size: 18px; margin: 5px 0; color: #333; }
        .product p { font-size: 14px; color: #555; margin: 3px 0; }
        .price { font-weight: bold; color: #d32f2f; margin: 8px 0; }
        .product button { background: #ff4800; color: white; border: none; padding: 8px 12px; border-radius: 5px; cursor: pointer; transition: 0.2s; }
        .product button:hover { background: #e03b00; }

        /* سبد خرید */
        .cart { background: #fff; padding: 10px 15px; border-radius: 5px; margin-right: 15px; cursor: pointer; transition: 0.2s; }
        .cart:hover { background: #e8f5e9; }

        /* فوتر */
        footer { background: #4caf50; color: white; text-align: center; padding: 15px; margin-top: 40px; }

        /* واکنش‌گرایی موبایل */
        @media (max-width: 768px) {
            header { flex-direction: column; align-items: flex-start; }
            .search-box { width: 100%; margin-top: 10px; }
        }

        /* استایل فرم‌ها (پاپ‌آپ) */
        .modal {
          display: none;
          position: fixed;
          z-index: 999;
          left: 0;
          top: 0;
          width: 100%;
          height: 100%;
          overflow: auto;
          background-color: rgba(0,0,0,0.5);
        }
        .modal-content {
          background-color: #fefefe;
          margin: 10% auto;
          padding: 20px;
          border-radius: 10px;
          width: 300px;
          text-align: center;
        }
        .modal-content input {
          width: 90%;
          padding: 8px;
          margin: 8px 0;
          border-radius: 5px;
          border: 1px solid #ccc;
        }
        .modal-content button {
          background: #4caf50;
          color: white;
          border: none;
          padding: 10px 15px;
          border-radius: 5px;
          cursor: pointer;
        }
        .modal-content button:hover { background: #388e3c; }
        .close {
          color: #aaa;
          float: left;
          font-size: 20px;
          cursor: pointer;
          margin-bottom: 10px;
        }
        .close:hover { color: black; }
    </style>
</head>
<body>

    <!-- هدر سایت -->
    <header>
        <h1>📚 کتابکده دانش</h1>
        <div style="display:flex; align-items:center; flex-wrap: wrap;">
            <nav>
                <a href="#home">خانه</a>
                <a href="#store">فروشگاه</a>
                <a href="#new">جدیدترین‌ها</a>
                <a href="#contact">ارتباط با ما</a>
                <a href="#login">ورود</a>
                <a href="#signup">عضویت</a>
            </nav>
            <div class="cart">🛒 سبد خرید</div>
        </div>
        <div class="search-box">
            <input type="text" placeholder="جستجوی کتاب...">
            <button>جستجو</button>
        </div>
    </header>

    <!-- محصولات -->
    <section id="store" class="product-container">

        <div class="product">
            <img src="images/qodrat.jpg" alt="قدرت عادت">
            <h3>قدرت عادت</h3>
            <p>نویسنده: چارلز داهیگ</p>
            <div class="price">۲۱۰,۰۰۰ تومان</div>
            <button class="pay-btn" data-order-id="ORDER1" data-amount="210000">پرداخت آنلاین</button>
        </div>

        <div class="product">
            <img src="images/ensan.jpg" alt="انسان در جستجوی معنا">
            <h3>انسان در جستجوی معنا</h3>
            <p>نویسنده: ویکتور فرانکل</p>
            <div class="price">۱۸۵,۰۰۰ تومان</div>
            <button class="pay-btn" data-order-id="ORDER2" data-amount="185000">پرداخت آنلاین</button>
        </div>

        <div class="product">
            <img src="images/pedar.jpg" alt="پدر پولدار پدر بی‌پول">
            <h3>پدر پولدار، پدر بی‌پول</h3>
            <p>نویسنده: رابرت کیوساکی</p>
            <div class="price">۲۴۰,۰۰۰ تومان</div>
            <button class="pay-btn" data-order-id="ORDER3" data-amount="240000">پرداخت آنلاین</button>
        </div>

        <div class="product">
            <img src="images/chahar.jpg" alt="چهار اثر فلورانس شین">
            <h3>چهار اثر فلورانس اسکاول شین</h3>
            <p>نویسنده: فلورانس شین</p>
            <div class="price">۱۵۰,۰۰۰ تومان</div>
            <button class="pay-btn" data-order-id="ORDER4" data-amount="150000">پرداخت آنلاین</button>
        </div>

    </section>

    <!-- فرم ثبت نام -->
    <div id="signup-form" class="modal">
      <div class="modal-content">
        <span class="close" id="close-signup">&times;</span>
        <h3>فرم ثبت نام</h3>
        <input type="text" id="signup-username" placeholder="نام کاربری">
        <input type="password" id="signup-password" placeholder="رمز عبور">
        <input type="email" id="signup-email" placeholder="ایمیل (اختیاری)">
        <button id="signup-submit">ثبت نام</button>
      </div>
    </div>

    <!-- فرم ورود -->
    <div id="login-form" class="modal">
      <div class="modal-content">
        <span class="close" id="close-login">&times;</span>
        <h3>فرم ورود</h3>
        <input type="text" id="login-username" placeholder="نام کاربری">
        <input type="password" id="login-password" placeholder="رمز عبور">
        <button id="login-submit">ورود</button>
      </div>
    </div>

    <footer>
        تمامی حقوق این سایت محفوظ است © ۲۰۲۵
    </footer>

    <!-- اسکریپت‌ها -->
    <script>
    // پرداخت آنلاین شبیه‌سازی شده
    document.addEventListener('click', function(e){
        const btn = e.target.closest('.pay-btn');
        if(!btn) return;

        const orderId = btn.dataset.orderId;
        const amount = btn.dataset.amount;

        const form = document.createElement('form');
        form.method = 'POST';
        form.action = 'https://example-payment-gateway.com/startpay';
        form.style.display = 'none';

        const params = {
            orderId: orderId,
            amount: amount,
            merchantId: '123456',
            callbackUrl: 'https://your-site.com/callback'
        };
        for(const key in params){
            const input = document.createElement('input');
            input.type = 'hidden';
            input.name = key;
            input.value = params[key];
            form.appendChild(input);
        }

        document.body.appendChild(form);
        form.submit();
    });

    // فرم ثبت نام و ورود
    const signupForm = document.getElementById('signup-form');
    const loginForm = document.getElementById('login-form');

    document.querySelector('a[href="#signup"]').addEventListener('click', ()=>{
      signupForm.style.display = 'block';
    });
    document.querySelector('a[href="#login"]').addEventListener('click', ()=>{
      loginForm.style.display = 'block';
    });

    document.getElementById('close-signup').addEventListener('click', ()=>{ signupForm.style.display = 'none'; });
    document.getElementById('close-login').addEventListener('click', ()=>{ loginForm.style.display = 'none'; });

    // ثبت نام
    document.getElementById('signup-submit').addEventListener('click', ()=>{
      const username = document.getElementById('signup-username').value.trim();
      const password = document.getElementById('signup-password').value.trim();
      const email = document.getElementById('signup-email').value.trim();

      if(!username || !password){
        alert('نام کاربری و رمز عبور الزامی است');
        return;
      }

      let users = JSON.parse(localStorage.getItem('users') || '{}');

      if(users[username]){
        alert('نام کاربری قبلا ثبت شده است');
        return;
      }

      users[username] = { password, email };
      localStorage.setItem('users', JSON.stringify(users));
      alert('ثبت نام با موفقیت انجام شد');
      signupForm.style.display = 'none';
    });

    // ورود
    document.getElementById('login-submit').addEventListener('click', ()=>{
      const username = document.getElementById('login-username').value.trim();
      const password = document.getElementById('login-password').value.trim();

      let users = JSON.parse(localStorage.getItem('users') || '{}');

      if(users[username] && users[username].password === password){
        alert('ورود موفقیت‌آمیز بود. خوش آمدید '+username);
        loginForm.style.display = 'none';
      }else{
        alert('نام کاربری یا رمز عبور اشتباه است');
      }
    });

    // بستن فرم‌ها با کلیک بیرون
    window.addEventListener('click', function(e){
      if(e.target == signupForm) signupForm.style.display = 'none';
      if(e.target == loginForm) loginForm.style.display = 'none';
    });
    </script>
</body>
</html>
